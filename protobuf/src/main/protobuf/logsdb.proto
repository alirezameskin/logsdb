syntax = "proto3";

package logsdb.protos;

service Pusher {
  rpc Push(stream LogRecord) returns (stream PushResponse) {}
}

service Query {
  rpc Query(QueryParams) returns (stream LogRecord) {}
}

message LogRecord {
  uint64 time = 1;
  string message = 2;
  RecordId id = 3;
}

message RecordId {
  uint64 time = 1;
  uint64 nuance = 2;
}

message PushResponse {
  string id = 1;
}

message QueryParams {
  uint64 from = 1;
  uint64 to = 2;
  int32 limit = 3;
  string after = 4;
}

